# OnlyWhenItCounts

[![Nexus Mods](https://img.shields.io/badge/Nexus%20Mods-OnlyWhenItCounts-blue?logo=nexusmods&logoColor=white&style=for-the-badge)](https://www.nexusmods.com/stardewvalley/mods/34886)
[![Ko-Fi](https://img.shields.io/badge/Ko--fi-Support%20Me-ff7700?style=for-the-badge&logo=ko-fi&logoColor=white)](http://ko-fi.com/trapyy)

> **Swing with confidence and save your energy for what counts!**  
> Spend less time worrying about wasted stamina and more time getting things done!

---

## Overview

**OnlyWhenItCounts** is a Stardew Valley mod designed to make your farming life a little less tiring by preventing stamina loss when your tool swings don't accomplish any work. Swing your axe or pickaxe with confidence, knowing you'll only spend energy when you're actually hitting a tree or a rock!

For example, if you swing your axe but miss the tree, or water an already watered tile, your stamina will be preserved. Spend less time worrying about wasted energy and more time getting things done!

---

## Features

- **Stamina Preservation:**  
  Automatically detects if your tool use (Axe, Pickaxe, Hoe, Watering Can, Fishing Rod) would have an effect. If not, your stamina is instantly restored.

- **Configurable Tile Detection:**  
  Choose how the mod determines the target tile for its checks via the Generic Mod Config Menu (GMCM):
    - `Cursor Position`: Checks the tile directly under your mouse cursor if it is in range of your tool, otherwise the tile in front of the player. (Default)
    - `Player Direction`: Checks the tile directly in front of your player. (Recommended for controller users)

---

## Installation

1.  **Install [SMAPI](https://smapi.io/).** Ensure you have the latest version.
2.  **(Recommended)** Install [Generic Mod Config Menu (GMCM)](https://www.nexusmods.com/stardewvalley/mods/5098) for easy in-game configuration.
3.  **Download OnlyWhenItCounts:** Get the latest version from the [Nexus Mods Files tab](https://www.nexusmods.com/stardewvalley/mods/34886?tab=files).
4.  **Install OnlyWhenItCounts:** Unzip the download and place the `OnlyWhenItCounts` folder into your `Stardew Valley/Mods` directory.
5.  **Launch the Game:** Run Stardew Valley via SMAPI.

---

## Configuration

-   **In-Game (Recommended):**  
    With [GMCM](https://www.nexusmods.com/stardewvalley/mods/5098) installed, click the gear icon on the title screen or find the settings button in the in-game options menu. Look for "OnlyWhenItCounts".

-   **Manual Edit:**  
    Edit the `config.json` file located in `Stardew Valley/Mods/OnlyWhenItCounts` after running the game once with the mod *(not recommended for most users)*.

---

## Tile Detection Methods

-   **`Cursor Position`** (Default):  
    Checks the tile directly under your mouse cursor if it is in range of your tool; otherwise, uses the tile in front of the player. *(Recommended for most players)*

-   **`Player Direction`**:  
    Checks the tile directly in front of your player. *(Best for controller users, or if you prefer this targeting method)*

---

## Mod Compatibility

-   **Generic Mod Config Menu (GMCM):** Fully supported for easy in-game configuration.
-   **Item Extensions:** Works with nodes and clumps from Item Extensions.
-   *Currently, the mod primarily checks vanilla actions. Support for actions from other mods may be added in the future.*

---

## Support

-   **Bug Reports:**  
    Please report any issues and bugs on the [Nexus Mods Bugs Tab](https://www.nexusmods.com/stardewvalley/mods/34886?tab=bugs).

-   **Questions & Suggestions:**  
    You can ask questions or suggest features on the [Nexus Mods Posts Tab](https://www.nexusmods.com/stardewvalley/mods/34886?tab=posts).

When reporting bugs, please include:
1.  A clear description of the problem.
2.  Steps to reproduce the issue.
3.  Your [SMAPI log](https://smapi.io/log) ([How to find your SMAPI log](https://smapi.io/log)).

---
